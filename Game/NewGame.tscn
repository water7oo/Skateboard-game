[gd_scene load_steps=18 format=3 uid="uid://ciyscyyb72708"]

[ext_resource type="Texture2D" uid="uid://dx0vwoe766a8c" path="res://addons/kenney_prototype_textures/dark/texture_08.png" id="1_3bqnt"]
[ext_resource type="Texture2D" uid="uid://mru6yu38no5o" path="res://addons/kenney_prototype_textures/dark/texture_05.png" id="1_i2xj1"]
[ext_resource type="Shader" path="res://Shaders/OUTLINES.gdshader" id="2_4bl68"]
[ext_resource type="PackedScene" uid="uid://d1464pyum7st3" path="res://SKATER/second_player.tscn" id="5_ddwym"]
[ext_resource type="PackedScene" uid="uid://cde1rxt4jkci" path="res://SKATER/PlayerCamera.tscn" id="6_m03c4"]
[ext_resource type="Shader" path="res://addons/interpolated_camera_3d/PIXELIZED.gdshader" id="7_xje6t"]
[ext_resource type="PackedScene" uid="uid://cq03nu5yt1hyv" path="res://Game/railings.tscn" id="8_2q0n7"]
[ext_resource type="PackedScene" uid="uid://byiwrnoah113n" path="res://GameStartANIM.tscn" id="13_a8nsm"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_xfhkw"]
sky_top_color = Color(1, 1, 1, 1)
sky_horizon_color = Color(1, 1, 1, 1)
sky_curve = 0.300001
ground_bottom_color = Color(1, 1, 1, 1)
ground_horizon_color = Color(0.827451, 0.831373, 0.839216, 1)
sun_curve = 0.0304594

[sub_resource type="Sky" id="Sky_x3u07"]
sky_material = SubResource("ProceduralSkyMaterial_xfhkw")

[sub_resource type="Environment" id="Environment_tjwux"]
background_energy_multiplier = 5.01
sky = SubResource("Sky_x3u07")
sky_rotation = Vector3(0, 5.34943, 0)
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_sky_contribution = 0.0
tonemap_exposure = 0.76
tonemap_white = 16.0
ssr_fade_in = 0.0111488
ssr_fade_out = 0.00680117
ssr_depth_tolerance = 0.01
ssao_radius = 16.0
ssao_intensity = 0.0
ssao_power = 19.4941
ssao_detail = 0.0
ssil_radius = 50.4
ssil_intensity = 13.88
ssil_sharpness = 0.0
fog_light_color = Color(0, 0.737255, 0.878431, 1)
fog_light_energy = 0.76
volumetric_fog_density = 0.006
volumetric_fog_albedo = Color(0.309804, 0.745098, 1, 1)
volumetric_fog_emission = Color(0.308594, 0.742188, 0.996094, 1)
volumetric_fog_emission_energy = 45.18
volumetric_fog_anisotropy = -0.33
volumetric_fog_length = 6.0
volumetric_fog_ambient_inject = 1.57
volumetric_fog_sky_affect = 0.0
volumetric_fog_temporal_reprojection_enabled = false
volumetric_fog_temporal_reprojection_amount = 0.552
adjustment_enabled = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_togmy"]
render_priority = 0
shader = ExtResource("2_4bl68")
shader_parameter/outline_color = null
shader_parameter/outline_width = 3.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hklh8"]
next_pass = SubResource("ShaderMaterial_togmy")
shading_mode = 0
albedo_texture = ExtResource("1_i2xj1")
uv1_scale = Vector3(2.59, 2.59, 2.59)
uv1_offset = Vector3(0, -0.39, 0)
texture_filter = 0
grow_amount = -1.032

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jdeq7"]
next_pass = SubResource("ShaderMaterial_togmy")
shading_mode = 0
diffuse_mode = 3
specular_mode = 1
albedo_texture = ExtResource("1_3bqnt")
uv1_scale = Vector3(-17.09, -17.09, -17.09)
texture_filter = 0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_eny7o"]
diffuse_mode = 3
specular_mode = 1
texture_filter = 0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ov31c"]
shader = ExtResource("7_xje6t")
shader_parameter/pixelSize = 1

[sub_resource type="CapsuleMesh" id="CapsuleMesh_neg2x"]

[node name="Node3D" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.499315, 0.026168, 0, 0.052336, 0.99863, -0.5, 0.864838, -0.0453243, -6.46824, 61.2841, 24.9881)
light_color = Color(0.615686, 0.615686, 0.615686, 1)
shadow_opacity = 0.56

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_tjwux")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
transform = Transform3D(2.92923, 0, 0, 0, 11.035, 0, 0, 0, 1.75446, 0, -0.414, 0)
material_override = SubResource("StandardMaterial3D_hklh8")
use_collision = true

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(0.704311, 0, 0, 0, 0.753764, 0, 0, 0, 0.999998, 0.502578, 0.0267621, -1.05807)
polygon = PackedVector2Array(0, 0, 0.00230324, 0.0728411, 1.96646, -0.00596937, 1, 0)

[node name="CSGPolygon3D2" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(-0.704311, 0, 8.74227e-08, 0, 0.793075, 0, -6.15728e-08, 0, -0.999997, -0.669048, 0.0243735, -2.05323)
polygon = PackedVector2Array(0, 0, 0.021871, 0.0718108, 1.96646, -0.00596937, 1, 0)

[node name="CSGBox3D2" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1.28759, 0, 0, 0, 0.999979, -0.0895081, 0.00346607, -1.55548)
size = Vector3(1.19, 0.121338, 1)

[node name="CSGPolygon3D3" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(0.704311, 0, 0, 0, 0.753764, 0, 0, 0, 0.999997, -4.30051, 0.0267621, -0.835291)
polygon = PackedVector2Array(0, 0, 0.290438, 0.202312, 1.96646, -0.00596937, 1, 0)

[node name="CSGPolygon3D4" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(-0.704311, 0, 8.74227e-08, 0, 0.793075, 0, -6.15728e-08, 0, -0.999996, -5.47213, 0.0243734, -1.83045)
polygon = PackedVector2Array(0, 0, 0.00230324, 0.0728411, 1.96646, -0.00596937, 1, 0)

[node name="CSGBox3D3" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1.28759, 0, 0, 0, 0.999978, -4.8926, 0.00346607, -1.3327)
size = Vector3(1.19, 0.121338, 1)

[node name="CSGBox3D" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(6.64587e-07, 0, 1.12638, 0, 0.421325, 0, -3.95974, 0, 1.18591e-07, 7.06445, 0.00989385, 6.63706)
size = Vector3(1.39343, 0.899902, 1.06689)

[node name="CSGPolygon3D6" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(4.64e-07, 0, 1.12638, 0, 3.00988, 0, -2.7646, 0, 1.1859e-07, 7.58766, 0.00331992, 3.91003)
polygon = PackedVector2Array(0, 0, 0.021871, 0.0718108, 1.96646, -0.00596937, 1, 0)

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="CSGCombiner3D"]
transform = Transform3D(2.42043, 0, 0, 0, 0.642501, 0, 0, 0, 4.04113, 6.5842, -0.387644, 10.217)

[node name="CSGBox3D4" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(2.42043, 0, 0, 0, 0.642501, 0, 0, 0, 4.04113, 6.5842, 0.518564, 7.92012)
operation = 2
size = Vector3(1, 1, 2.23334)

[node name="Ground" type="CSGCombiner3D" parent="."]
transform = Transform3D(2.92923, 0, 0, 0, 11.035, 0, 0, 0, 1.75446, 0, -0.414, 0)
material_override = SubResource("StandardMaterial3D_jdeq7")
calculate_tangents = false
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="Ground"]
transform = Transform3D(2.9, 0, 0, 0, 1, 0, 0, 0, 3.3152, 0, -0.305855, 10)
size = Vector3(5.2264, 0.665265, 8.78831)
material = SubResource("StandardMaterial3D_eny7o")

[node name="CSGBox3D3" type="CSGBox3D" parent="Ground"]
transform = Transform3D(-3.67613e-07, -1.18638e-06, -3.3152, 0, -3.3152, 9.94205e-08, -8.41, 1.5073e-13, 1.44912e-07, 12.4443, 0.364396, 9.01933)
size = Vector3(3.99218, 0.665265, 3.01544)
material = SubResource("StandardMaterial3D_eny7o")

[node name="CSGBox3D2" type="CSGBox3D" parent="Ground"]
transform = Transform3D(2.9, 0, 0, 0, -4.37114e-08, -0.527085, 0, 6.28968, -1.44912e-07, 0.0614555, 0.665485, -4.74287)
size = Vector3(5.31051, 0.665265, 3.01544)
material = SubResource("StandardMaterial3D_eny7o")

[node name="Railings" parent="." node_paths=PackedStringArray("player") instance=ExtResource("8_2q0n7")]
transform = Transform3D(0.510318, 0, 0.859986, 0, 1, 0, -0.859986, 0, 0.510318, 3.74714, -0.01752, 5.14347)
player = NodePath("../Preview/SubViewportContainer/SubViewport/Second_Player")

[node name="Preview" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="SubViewportContainer" type="SubViewportContainer" parent="Preview"]
material = SubResource("ShaderMaterial_ov31c")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="Opener" parent="Preview/SubViewportContainer" instance=ExtResource("13_a8nsm")]
visible = false

[node name="SubViewport" type="SubViewport" parent="Preview/SubViewportContainer"]
handle_input_locally = false
canvas_item_default_texture_filter = 0
size = Vector2i(614, 777)
render_target_update_mode = 4

[node name="CameraSet" parent="Preview/SubViewportContainer/SubViewport" instance=ExtResource("6_m03c4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3.32489)
target = NodePath("../Second_Player/CamTarget")
speed = 20.0
enabled = true

[node name="Second_Player" parent="Preview/SubViewportContainer/SubViewport" instance=ExtResource("5_ddwym")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -2.84301e-09, 0.209544, 2.52)

[node name="CamTarget" type="Marker3D" parent="Preview/SubViewportContainer/SubViewport/Second_Player"]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, -0.000418311, 0.284591, -0.00861549)
gizmo_extents = 4.54

[node name="MeshInstance3D" type="MeshInstance3D" parent="Preview/SubViewportContainer/SubViewport/Second_Player/CamTarget"]
transform = Transform3D(-4.37113e-08, -1, -1.74846e-07, 1, -4.37114e-08, 1.74846e-07, -1.74846e-07, -1.74846e-07, 1, 0, 0, 0)
visible = false
mesh = SubResource("CapsuleMesh_neg2x")

[node name="Cam_l2" type="Marker3D" parent="Preview/SubViewportContainer/SubViewport/Second_Player"]
transform = Transform3D(0.44, 0, -2.13163e-14, 0, 0.44, 0, 2.13163e-14, 0, 0.44, -1.98409, -0.0680599, -0.00419068)

[node name="Cam_r2" type="Marker3D" parent="Preview/SubViewportContainer/SubViewport/Second_Player"]
transform = Transform3D(0.44, 0, -2.13163e-14, 0, 0.44, 0, 2.13163e-14, 0, 0.44, 2.37313, -0.0680599, -0.02407)
